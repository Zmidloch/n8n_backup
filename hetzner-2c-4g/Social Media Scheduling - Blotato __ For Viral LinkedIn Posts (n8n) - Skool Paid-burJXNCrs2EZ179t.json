{
  "active": false,
  "activeVersion": null,
  "activeVersionId": null,
  "connections": {
    "UpdateLinkedinLeads": {
      "main": [
        [
          {
            "node": "UpdateDate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Once per week": {
      "main": [
        [
          {
            "node": "GetRecord",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GetRecord": {
      "main": [
        [
          {
            "node": "UpdateStatus1",
            "type": "main",
            "index": 0
          },
          {
            "node": "ScrapePosts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ScrapePosts": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "UpdateDate": {
      "main": [
        [
          {
            "node": "1 at a time",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "5 at a time",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "1 at a time",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze Text": {
      "main": [
        [
          {
            "node": "Image Text1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze image": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Extract Image1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Analyze image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate": {
      "main": [
        [
          {
            "node": "Image Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Image Text": {
      "main": [
        [
          {
            "node": "UpdateLinkedinLeads",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Image Text1": {
      "main": [
        [
          {
            "node": "Extract Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Get a record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "UpdateLinkedinLeads1": {
      "main": [
        [
          {
            "node": "UpdateDate1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "UpdateDate1": {
      "main": [
        [
          {
            "node": "5 at a time",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Image": {
      "main": [
        [
          {
            "node": "Get Image URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Image URL": {
      "main": [
        [
          {
            "node": "Set Image Array",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Image1": {
      "main": [
        [
          {
            "node": "Get Image URL1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Image URL1": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Image Array": {
      "main": [
        [
          {
            "node": "UpdateLinkedinLeads1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "5 at a time": {
      "main": [
        [],
        [
          {
            "node": "Analyze Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1 at a time": {
      "main": [
        [
          {
            "node": "UpdateCompleted",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a record": {
      "main": [
        [
          {
            "node": "Respond Success",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get Brand Guidelines",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Brand Guidelines": {
      "main": [
        [
          {
            "node": "Post Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini-2.5-pro": {
      "ai_languageModel": [
        [
          {
            "node": "Post Generator",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Opus-4.1-thinking": {
      "ai_languageModel": [
        [
          {
            "node": "Post Generator",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "gpt-5-mini": {
      "ai_languageModel": [
        [
          {
            "node": "Structured Output Parser2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Split Out Creatives": {
      "main": [
        [
          {
            "node": "Create video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Post Generator": {
      "main": [
        [
          {
            "node": "Split Out Creatives",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser2": {
      "ai_outputParser": [
        [
          {
            "node": "Post Generator",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Create video": {
      "main": [
        [
          {
            "node": "Get video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get video": {
      "main": [
        [
          {
            "node": "Wait 10 seconds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait 10 seconds": {
      "main": [
        [
          {
            "node": "If Finished",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If Finished": {
      "main": [
        [
          {
            "node": "Set Image Array1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "UpdateContent": {
      "main": [
        [
          {
            "node": "UpdateLink",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "RetrieveDetails",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RetrieveDetails": {
      "main": [
        [
          {
            "node": "GetRecord",
            "type": "main",
            "index": 0
          },
          {
            "node": "Respond Success1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Image Array1": {
      "main": [
        [
          {
            "node": "UpdateContent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-12-11T21:05:32.670Z",
  "id": "burJXNCrs2EZ179t",
  "isArchived": false,
  "meta": null,
  "name": "Social Media Scheduling - Blotato // For Viral LinkedIn Posts (n8n) - Skool Paid",
  "nodes": [
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tblIbzXQmBLhZ6xs8",
          "mode": "list",
          "cachedResultName": "Scraped Posts",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tblIbzXQmBLhZ6xs8"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Comments": "={{ $('Split Out').first().json.engagement.comments }}",
            "Content": "={{ $('Split Out').first().json.content }}",
            "Link to Post": "={{ $('Split Out').first().json.linkedinUrl }}",
            "Media": "={{ $json.media }}",
            "Likes": "={{ $('Split Out').first().json.engagement.likes }}",
            "Shares": "={{ $('Split Out').first().json.engagement.shares }}",
            "Impressions": "={{ $('Split Out').first().json.engagement.impressions }}",
            "Origin Id": "={{ $('Split Out').first().json.id }}",
            "Type": "={{ $json.type }}",
            "Transcript": "={{ $json.transcript }}",
            "Creator": "=['{{ $('GetRecord').item.json.id }}']"
          },
          "matchingColumns": [
            "Origin Id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Origin Id",
              "displayName": "Origin Id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Type",
              "displayName": "Type",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Image",
                  "value": "Image"
                },
                {
                  "name": "Carousel",
                  "value": "Carousel"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Media",
              "displayName": "Media",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Transcript",
              "displayName": "Transcript",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Date Published",
              "displayName": "Date Published",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Link to Post",
              "displayName": "Link to Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Likes",
              "displayName": "Likes",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Comments",
              "displayName": "Comments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Shares",
              "displayName": "Shares",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Impressions",
              "displayName": "Impressions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "❗Custom Instructions",
              "displayName": "❗Custom Instructions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Draft Post",
              "displayName": "Draft Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Creator",
              "displayName": "Creator",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": false
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3696,
        480
      ],
      "id": "2695c467-cfcf-4bcc-b6ee-f261b3655ab6",
      "name": "UpdateLinkedinLeads"
    },
    {
      "parameters": {
        "content": "## 1. Linkedin Profile Scraper - Extract Posts\nPull posts from a specific profile url\n[Apify Profile Posts Scraper](https://apify.com/harvestapi/linkedin-profile-posts) ($2.00 per 1k posts inc. engagements) \n2,500 scrapes free on the [Apify free plan](https://apify.com/?fpr=simonscrapes), sign up with code `25SIMON` for 25% off paid plans",
        "height": 976,
        "width": 3056,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        992,
        0
      ],
      "id": "ce8f5a6d-10b7-4d72-82c5-43e5da130627",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "weeks"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        1056,
        368
      ],
      "id": "74bd54d2-700f-4011-8bdd-5e28073bfbfe",
      "name": "Once per week"
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine V1",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tbltZMsg00u64TzGF",
          "mode": "list",
          "cachedResultName": "Creator Pages",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tbltZMsg00u64TzGF"
        },
        "filterByFormula": "AND(   {❗Linkedin Profile URL} != '',   {Scrape} = 1 )",
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1264,
        368
      ],
      "id": "251e3430-57a2-4a09-9271-944f0b414025",
      "name": "GetRecord"
    },
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine V1",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tbltZMsg00u64TzGF",
          "mode": "list",
          "cachedResultName": "Creator Pages",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tbltZMsg00u64TzGF"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $json.id }}",
            "Status": "In progress"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "❗Linkedin Profile URL",
              "displayName": "❗Linkedin Profile URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Scrape",
              "displayName": "Scrape",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "boolean",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Not started",
                  "value": "Not started"
                },
                {
                  "name": "In progress",
                  "value": "In progress"
                },
                {
                  "name": "Completed",
                  "value": "Completed"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Last Scraped",
              "displayName": "Last Scraped",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1424,
        304
      ],
      "id": "86722937-e090-4cbb-baab-7ab5b8d60426",
      "name": "UpdateStatus1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://api.apify.com/v2/acts/harvestapi~linkedin-profile-posts/run-sync-get-dataset-items",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"targetUrls\": [\n    \"{{ $json['❗Linkedin Profile URL'] }}\"\n  ],\n  \"maxPosts\": {{ $json['Max Posts'] }},\n  \"includeQuotePosts\": false,\n  \"includeReposts\": false,\n  \"scrapeReactions\": false,\n  \"maxReactions\": 5,\n  \"scrapeComments\": false,\n  \"maxComments\": 5\n}",
        "options": {
          "timeout": 1000000
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1728,
        368
      ],
      "id": "e4038db4-b12e-4153-891a-eb35c823de3c",
      "name": "ScrapePosts",
      "retryOnFail": true,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "content": "### Get creator profiles\nOnce per week\n",
        "height": 288,
        "width": 432,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1184,
        256
      ],
      "id": "55acbb79-3d1c-4ad4-8f0c-1df65b402a98",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "### Scrape Posts\n\n",
        "height": 224,
        "width": 288,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1632,
        320
      ],
      "id": "b0fe1380-f6dc-4f97-bd8f-d4fc647b86f4",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "content": "### Post type\n\n",
        "height": 224,
        "width": 208,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1936,
        320
      ],
      "id": "f2c23f59-f460-4884-b582-16fde26eb133",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tbltZMsg00u64TzGF",
          "mode": "list",
          "cachedResultName": "Creator Pages",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tbltZMsg00u64TzGF"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $('GetRecord').item.json.id }}",
            "Status": "Completed"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "❗Linkedin Profile URL",
              "displayName": "❗Linkedin Profile URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Scrape",
              "displayName": "Scrape",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "boolean",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Not started",
                  "value": "Not started"
                },
                {
                  "name": "In progress",
                  "value": "In progress"
                },
                {
                  "name": "Completed",
                  "value": "Completed"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Last Scraped",
              "displayName": "Last Scraped",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        2496,
        816
      ],
      "id": "b527404c-714f-4607-b0e7-afc9ef4c1bee",
      "name": "UpdateCompleted"
    },
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tblIbzXQmBLhZ6xs8",
          "mode": "list",
          "cachedResultName": "Scraped Posts",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tblIbzXQmBLhZ6xs8"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Origin Id": "={{ $json.fields[\"Origin Id\"] }}",
            "Date Published": "={{ $('ScrapePosts').first().json.postedAt.date.toDateTime() }}"
          },
          "matchingColumns": [
            "Origin Id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Origin Id",
              "displayName": "Origin Id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Media",
              "displayName": "Media",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Date Published",
              "displayName": "Date Published",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Link to Post",
              "displayName": "Link to Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Likes",
              "displayName": "Likes",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Comments",
              "displayName": "Comments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Shares",
              "displayName": "Shares",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Impressions",
              "displayName": "Impressions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Draft Post",
              "displayName": "Draft Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": true
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3872,
        560
      ],
      "id": "ae55b534-abd9-4239-a7e1-a3d7676ff8c4",
      "name": "UpdateDate"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.postImages }}",
                    "rightValue": "",
                    "operator": {
                      "type": "array",
                      "operation": "notEmpty",
                      "singleValue": true
                    },
                    "id": "9c36a8ed-1569-4c2f-8f03-c64491932902"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Image"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "3941c720-2841-4a30-8fc2-de7d87de7f42",
                    "leftValue": "={{ $json.document }}",
                    "rightValue": "",
                    "operator": {
                      "type": "object",
                      "operation": "notEmpty",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Carousel"
            }
          ]
        },
        "options": {
          "fallbackOutput": "extra"
        }
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        2000,
        368
      ],
      "id": "b1155de7-71bf-4f08-bfb0-66ef8af98afb",
      "name": "Switch"
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.5-flash-lite",
          "mode": "list",
          "cachedResultName": "models/gemini-2.5-flash-lite"
        },
        "text": "Extract the text from this image. Output only the extracted text; nothing more.",
        "imageUrls": "={{ $('ScrapePosts').item.json.postImages[0].url }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        2496,
        160
      ],
      "id": "a15891e3-ddbd-43f8-8ce2-589dc3ab166e",
      "name": "Analyze Text",
      "executeOnce": false
    },
    {
      "parameters": {
        "fieldToSplitOut": "document.coverPages[0].imageUrls",
        "include": "allOtherFields",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        2480,
        480
      ],
      "id": "12b21957-e41e-48af-bc9b-a337dddab0cc",
      "name": "Split Out"
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.5-flash-lite",
          "mode": "list",
          "cachedResultName": "models/gemini-2.5-flash-lite"
        },
        "text": "Extract the text from this image. Output only the extracted text; nothing more.",
        "imageUrls": "={{ $json['document.coverPages[0].imageUrls'] }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        2688,
        432
      ],
      "id": "c1cf7c79-2ce8-481f-bbe5-eceef25b4d51",
      "name": "Analyze image",
      "executeOnce": false
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "content.parts[0].text"
            },
            {
              "fieldToAggregate": "data.display_url"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        3280,
        480
      ],
      "id": "4a0c66e9-e77e-4ff1-967f-8078c8393dfd",
      "name": "Aggregate"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "48326449-05ae-44c3-8e72-bf8b05e5666b",
              "name": "transcript",
              "value": "={{ $json.text.map((t, i) => `## IMAGE ${i + 1}\\n${t}`).join('\\n\\n') }}",
              "type": "string"
            },
            {
              "id": "3b7a4213-8ab4-4d4a-a7a0-4bc0786a2925",
              "name": "media",
              "value": "={{ $('Aggregate').item.json.display_url.map((url, index) => ({ url: url, filename: `image_${index}.jpg` })) }}",
              "type": "array"
            },
            {
              "id": "411eb1d8-5263-414f-b9a8-59599644f032",
              "name": "type",
              "value": "Carousel",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        3488,
        480
      ],
      "id": "8e436275-f683-4e4d-838b-d4bfcc988533",
      "name": "Image Text"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "48326449-05ae-44c3-8e72-bf8b05e5666b",
              "name": "transcript",
              "value": "={{ $('Analyze Text').item.json.content.parts[0].text }}",
              "type": "string"
            },
            {
              "id": "4b001e49-675a-47f3-bfa2-166ed060c0e9",
              "name": "type",
              "value": "Image",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2672,
        160
      ],
      "id": "140df85d-fd1e-46f2-aaff-6011e7a98e1f",
      "name": "Image Text1"
    },
    {
      "parameters": {
        "content": "### Single Images\nPull image text and download image",
        "height": 208,
        "width": 960,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2432,
        96
      ],
      "id": "134b929d-8582-4146-80a0-fa0a76ad7b85",
      "name": "Sticky Note20"
    },
    {
      "parameters": {
        "content": "### Carousels\nPull individual image text and download individual images\n\n",
        "height": 336,
        "width": 976,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2432,
        368
      ],
      "id": "e955dcf9-0be5-418d-ab72-0d630da32db6",
      "name": "Sticky Note21"
    },
    {
      "parameters": {
        "content": "### Upload to database\nAirtable can be replaced here for your own database of choice\n\n",
        "height": 336,
        "width": 560,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3440,
        368
      ],
      "id": "ca0e578b-f072-41a7-b17d-ccc71461be78",
      "name": "Sticky Note22"
    },
    {
      "parameters": {
        "path": "draft-post",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        1040,
        1232
      ],
      "id": "be52389c-2d96-494e-9e49-8792912e2aa4",
      "name": "Webhook",
      "webhookId": "f8b82971-624e-477a-87fa-05b1600605b7"
    },
    {
      "parameters": {
        "content": "## 2. Draft Posts for Linkedin (including carousel)\n",
        "height": 480,
        "width": 2656,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        992,
        1040
      ],
      "id": "6ed18016-1637-42d0-97c1-74946d1a1c5b",
      "name": "Sticky Note23"
    },
    {
      "parameters": {
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tblIbzXQmBLhZ6xs8",
          "mode": "list",
          "cachedResultName": "Scraped Posts",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tblIbzXQmBLhZ6xs8"
        },
        "id": "={{ $json.query.recordId }}",
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1232,
        1232
      ],
      "id": "fdd88f17-c7d4-4732-8ecf-04f14508bf8e",
      "name": "Get a record"
    },
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tblIbzXQmBLhZ6xs8",
          "mode": "list",
          "cachedResultName": "Scraped Posts",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tblIbzXQmBLhZ6xs8"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Comments": "={{ $('ScrapePosts').item.json.engagement.comments }}",
            "Content": "={{ $('ScrapePosts').item.json.content }}",
            "Link to Post": "={{ $('ScrapePosts').item.json.linkedinUrl }}",
            "Media": "={{ $('Set Image Array').item.json.media }}",
            "Likes": "={{ $('ScrapePosts').item.json.engagement.likes }}",
            "Shares": "={{ $('ScrapePosts').item.json.engagement.shares }}",
            "Impressions": "={{ $('ScrapePosts').item.json.engagement.impressions }}",
            "Origin Id": "={{ $('ScrapePosts').item.json.id }} ",
            "Type": "={{ $('Image Text1').item.json.type }}",
            "Transcript": "={{ $('Image Text1').item.json.transcript }}",
            "Creator": "=['{{ $('GetRecord').item.json.id }}']"
          },
          "matchingColumns": [
            "Origin Id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Origin Id",
              "displayName": "Origin Id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Type",
              "displayName": "Type",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Image",
                  "value": "Image"
                },
                {
                  "name": "Carousel",
                  "value": "Carousel"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Media",
              "displayName": "Media",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Transcript",
              "displayName": "Transcript",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Date Published",
              "displayName": "Date Published",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Link to Post",
              "displayName": "Link to Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Likes",
              "displayName": "Likes",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Comments",
              "displayName": "Comments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Shares",
              "displayName": "Shares",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Impressions",
              "displayName": "Impressions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "❗Custom Instructions",
              "displayName": "❗Custom Instructions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Draft Post",
              "displayName": "Draft Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Creator",
              "displayName": "Creator",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": false
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3488,
        160
      ],
      "id": "b8ccbc0e-ab40-4080-a7e7-f598b99f5957",
      "name": "UpdateLinkedinLeads1"
    },
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tblIbzXQmBLhZ6xs8",
          "mode": "list",
          "cachedResultName": "Scraped Posts",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tblIbzXQmBLhZ6xs8"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Origin Id": "={{ $json.fields[\"Origin Id\"] }}",
            "Date Published": "={{ $('ScrapePosts').item.json.postedAt.date.toDateTime() }}"
          },
          "matchingColumns": [
            "Origin Id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Origin Id",
              "displayName": "Origin Id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Media",
              "displayName": "Media",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Date Published",
              "displayName": "Date Published",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Link to Post",
              "displayName": "Link to Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Likes",
              "displayName": "Likes",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Comments",
              "displayName": "Comments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Shares",
              "displayName": "Shares",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Impressions",
              "displayName": "Impressions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Draft Post",
              "displayName": "Draft Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": true
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3664,
        160
      ],
      "id": "3cd298a5-3857-49bc-b897-cb390bbf679f",
      "name": "UpdateDate1"
    },
    {
      "parameters": {
        "content": "### Upload to database\nAirtable can be replaced here for your own database of choice\n\n",
        "height": 208,
        "width": 464,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3424,
        96
      ],
      "id": "3766bc61-eff6-430a-9be6-61484213bdf6",
      "name": "Sticky Note24"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.imgbb.com/1/upload",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-type",
              "value": "multipart/form-data"
            }
          ]
        },
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "parameterType": "formBinaryData",
              "name": "image",
              "inputDataFieldName": "data"
            }
          ]
        },
        "options": {}
      },
      "id": "cca5fdbf-57bb-4c1f-8529-771babd8e6e1",
      "name": "Get Image URL",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        3056,
        160
      ],
      "notesInFlow": true
    },
    {
      "parameters": {
        "url": "={{ $('ScrapePosts').item.json.postImages[0].url }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "{\n  \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36\",\n  \"Accept\": \"*/*\",\n  \"Referer\": \"https://www.linkedin.com/\"\n}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2864,
        160
      ],
      "id": "8ee58d3c-8174-483d-8f6e-c697d802b998",
      "name": "Extract Image"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.imgbb.com/1/upload",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-type",
              "value": "multipart/form-data"
            }
          ]
        },
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "parameterType": "formBinaryData",
              "name": "image",
              "inputDataFieldName": "data"
            }
          ]
        },
        "options": {}
      },
      "id": "7d068ce4-f85a-4818-b644-ed72849c77b1",
      "name": "Get Image URL1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2928,
        576
      ],
      "notesInFlow": true,
      "retryOnFail": true,
      "waitBetweenTries": 5000
    },
    {
      "parameters": {
        "url": "={{ $('Split Out').item.json['document.coverPages[0].imageUrls'] }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "{\n  \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36\",\n  \"Accept\": \"*/*\",\n  \"Referer\": \"https://www.linkedin.com/\"\n}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2688,
        576
      ],
      "id": "a41765a9-8865-4caa-8b86-1700fa04e7f7",
      "name": "Extract Image1"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        3088,
        480
      ],
      "id": "4c0a4bf2-ca52-4eea-8054-70f923db1632",
      "name": "Merge1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "54c8831a-abf3-4458-a70f-3abe9a170087",
              "name": "media",
              "value": "={{ [{ \"url\": $('Get Image URL').item.json.data.url, \"filename\": \"image.jpg\" }] }}",
              "type": "array"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        3264,
        160
      ],
      "id": "452593c1-74e7-44ea-94df-8bf21323fdb6",
      "name": "Set Image Array"
    },
    {
      "parameters": {
        "batchSize": 5,
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        2272,
        176
      ],
      "id": "4be4a8ba-a8ee-43ec-a782-874089af94b3",
      "name": "5 at a time"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        2272,
        464
      ],
      "id": "9a98cafb-bf8c-485c-93c7-7a8638f0ca24",
      "name": "1 at a time"
    },
    {
      "parameters": {
        "content": "### Batching \nTo not overload memory\n\n",
        "height": 608,
        "width": 208,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2208,
        96
      ],
      "id": "955223f9-eb47-4502-9334-6397fb7f6d5c",
      "name": "Sticky Note25"
    },
    {
      "parameters": {
        "content": "### Update status\nStatus in database to `complete`",
        "height": 208,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2432,
        752
      ],
      "id": "54142b5a-2b2b-4547-aedd-f2b749def836",
      "name": "Sticky Note26"
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "=<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <meta name=\"description\" content=\"Success message displaying generation status\" />\n    <title>✅ Generating</title>\n    <style>\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@600&display=swap');\n\n        :root {\n            --color-bg-start: #a7c7e7; /* light blue */\n            --color-bg-end: #cdb4db; /* light purple */\n            --color-text: #1f2121;\n            --color-shadow: rgba(0, 0, 0, 0.15);\n        }\n\n        * {\n            box-sizing: border-box;\n        }\n\n        body, html {\n            height: 100%;\n            margin: 0;\n            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n                Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n            background: linear-gradient(135deg, var(--color-bg-start), var(--color-bg-end));\n            color: var(--color-text);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            text-align: center;\n            overflow: hidden;\n        }\n\n        main {\n            padding: 2rem 3rem;\n            background: rgba(255, 255, 255, 0.85);\n            border-radius: 1rem;\n            box-shadow: 0 10px 20px var(--color-shadow);\n            max-width: 90vw;\n            animation: fadeIn 1s ease forwards;\n            user-select: none;\n        }\n\n        .success-message {\n            font-weight: 600;\n            font-size: 3rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.6rem;\n            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            cursor: default;\n            transition: transform 0.3s ease;\n            outline: none;\n        }\n\n        .success-message:focus {\n            box-shadow: 0 0 0 3px #7b68ee;\n            border-radius: 0.5rem;\n        }\n\n        .success-message:hover {\n            transform: translateY(-2px) scale(1.02);\n        }\n\n        .checkmark {\n            font-size: 3.5rem;\n            line-height: 1;\n        }\n\n        @keyframes fadeIn {\n            from {\n                opacity: 0;\n                transform: translateY(10px);\n            }\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        }\n    </style>\n</head>\n<body>\n    <main>\n        <div\n            class=\"success-message\"\n            id=\"successMessage\"\n            tabindex=\"0\"\n            role=\"status\"\n            aria-label=\"Success: Generating\"\n            aria-live=\"polite\"\n        >\n            <span class=\"checkmark\">✅</span>\n            <span class=\"message-text\">Generating</span>\n        </div>\n    </main>\n\n    <script>\n        document.addEventListener('DOMContentLoaded', function () {\n            const successMessage = document.getElementById('successMessage');\n\n            // Accessibility announcement already handled by aria-live\n\n            // Keyboard focus styling is handled by CSS focus selector\n\n            // Optional debug log\n            console.log('Success message loaded successfully ✅');\n        });\n    </script>\n</body>\n</html>",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        1536,
        1136
      ],
      "id": "6e8553f2-d519-4102-a429-a101cf7f5230",
      "name": "Respond Success"
    },
    {
      "parameters": {
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tblSCEQFDEhDCYNv5",
          "mode": "list",
          "cachedResultName": "Brand Guidelines",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tblSCEQFDEhDCYNv5"
        },
        "id": "={{ $json['❗Brand Voice'][0] }}",
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1760,
        1232
      ],
      "id": "639041e6-1e3f-41ba-b72f-e4f39d730aa3",
      "name": "Get Brand Guidelines"
    },
    {
      "parameters": {
        "content": "## Capture inputs\nBrand guidelines + Original post contex",
        "height": 288,
        "width": 848,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1184,
        1120
      ],
      "id": "1f5b27a4-bf9b-49c7-85ed-011fccc64eb7",
      "name": "Sticky Note27"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-pro",
        "options": {
          "maxOutputTokens": 64000,
          "temperature": 0.4
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        2112,
        1376
      ],
      "id": "97fc7114-cb2f-4bed-ad9c-f259880fe7f1",
      "name": "Gemini-2.5-pro"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "claude-opus-4-1-20250805",
          "mode": "list",
          "cachedResultName": "Claude Opus 4.1"
        },
        "options": {
          "maxTokensToSample": 64000,
          "thinking": true
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.3,
      "position": [
        2304,
        1376
      ],
      "id": "eff00bce-5d34-4097-8bf5-10ec6eec70cc",
      "name": "Opus-4.1-thinking"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "openai/gpt-5-mini",
          "mode": "list",
          "cachedResultName": "openai/gpt-5-mini"
        },
        "options": {
          "temperature": 0.3
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        2448,
        1392
      ],
      "id": "8c2f67ed-3270-442f-864e-b597e51e4203",
      "name": "gpt-5-mini"
    },
    {
      "parameters": {
        "fieldToSplitOut": "output.variations",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        2576,
        1152
      ],
      "id": "9f53d0de-d615-4786-b9f4-802c3cad46bc",
      "name": "Split Out Creatives"
    },
    {
      "parameters": {
        "content": "The highest ranking models in the [LLM Arena](https://beta.lmarena.ai/leaderboard/text/creative-writing) for creative writing as of 15.Oct.2025",
        "height": 208,
        "width": 384,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2048,
        1296
      ],
      "id": "ad4b79a0-e263-40f3-8a61-f3f250f1d156",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## Post Generation",
        "height": 416,
        "width": 672,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2048,
        1088
      ],
      "id": "fc1201b9-a96a-4d82-b40c-88c1bab2aed4",
      "name": "Sticky Note28"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=## Inputs\n\n* **Reference Post Information:**\n    * Original Post Copy: `{{ $('Get a record').item.json.Content.toJsonString() }}`\n    * Original Image/Carousel Text: `{{ $('Get a record').item.json.Transcript.toJsonString() }}`\n* **Brand Details:**\n    * Brand Voice Guidelines: `{{ $('Get Brand Guidelines').item.json['Voice Guidelines'].toJsonString() }}`\n    * Product Information: `{{ $('Get Brand Guidelines').item.json['Product & Audience'].toJsonString() }}`\n    * Custom Instructions (optional): `{{ $('Get a record').item.json['❗Custom Instructions'] }}`",
        "hasOutputParser": true,
        "needsFallback": true,
        "messages": {
          "messageValues": [
            {
              "message": "=## Role\n\nYou are an expert LinkedIn content strategist with extensive experience in B2B and professional content creation. Your specialty is transforming reference LinkedIn posts into multiple creative variations while maintaining brand identity and optimizing for LinkedIn's professional audience.\n\n## Constraints\n\n* Generate exactly 3 creative variations, each with its own unique post body and accompanying image/carousel text set\n* Each variation must maintain 70-80% similarity to the reference while introducing 20-30% novel elements\n* Preserve the emotional hook and core value proposition from the reference post\n* Use double line breaks in post body sections for enhanced readability\n* Maintain consistent brand voice across all variations\n* Ensure each variation could stand alone as a complete LinkedIn post\n* Apply the Rule of Three: vary opening hooks, storytelling structure, and call-to-action placement across variations\n* Follow LinkedIn best practices (optimal length, hashtag usage, engagement patterns)\n* Never duplicate exact phrases between variations - rephrase while keeping meaning\n* Match the number of images from the reference post exactly (1-20 images possible)\n* For carousel posts with multiple images, format text sets as: ## IMAGE 1, ## IMAGE 2, etc., with each image's text following immediately after its header\n* For single image posts, provide single image text without numbered headers\n* Image/carousel text should complement the post body without duplicating \n* For tweet cards output, split text sensibly into array elements (e.g., headline separate from body text)\n\n## Inputs\n\n* **Reference Post Information:**\n    * Original Post Copy\n    * Original Image/Carousel Text\n* **Brand Details:**\n    * Brand Voice Guidelines\n    * Product Information\n    * Custom Instructions\n\n## Instructions\n\n1. **Analyze the Reference Post:**\n   * Identify the core message and key insights\n   * Extract main value propositions and takeaways\n   * Note the narrative structure and engagement hooks\n   * Identify successful opening lines and calls-to-action\n   * Determine the number of images in the original (single image or carousel with 2-20 images)\n\n2. **Understand Brand Adaptation Requirements:**\n   * Review brand voice guidelines thoroughly\n   * Align product information with post messaging\n   * Incorporate any custom instructions provided\n   * Extract tone and style from brand materials\n\n3. **Apply Creative Variation Techniques:**\n   * **Variation 1: Story-driven approach** - lead with narrative or case study angle\n   * **Variation 2: Insight-focused approach** - lead with key takeaway or industry insight\n   * **Variation 3: Question/problem-driven approach** - engage with thought-provoking question or common challenge\n\n4. **For Each Variation:**\n   * Craft a compelling opening hook (first 1-2 lines crucial for \"see more\" clicks)\n   * Structure content for easy scanning (short paragraphs, strategic line breaks)\n   * Tailor messaging to align with brand voice and product\n   * Create a natural, non-pushy call-to-action\n   * Develop corresponding image/carousel text that:\n     - Matches the exact number of images from the reference post\n     - Complements the post copy without duplicating it\n     - Works as standalone visual elements\n     - Maintains brand consistency\n     - Follows hierarchy principles (most important text largest/first)\n     - **For single image:** Provide text without ## IMAGE headers\n     - **For carousels (2-20 images):** Format as ## IMAGE 1, ## IMAGE 2, ..., ## IMAGE N with text flowing naturally after each header\n\n5. **Create tweet cards array output:**\n\n     * Split each image's text into sensible chunks (headlines, subheadings, body text as separate array elements)\n     * Ensure each element is tweet-card friendly (concise, readable, visually separable)\n     * Maintain logical flow when split across array elements\n     * Example: A title like \"4. High Emotional IQ\" becomes one element, and its description becomes another\n\n6. **Quality Checks:**\n   * Verify each variation aligns with brand voice guidelines and custom instructions\n   * Confirm core message consistency across all versions\n   * Ensure appropriate professional tone for LinkedIn\n   * Check that image/carousel text enhances rather than repeats post copy\n   * Verify the number of images matches the reference post exactly\n   * Confirm proper formatting: no headers for single image, ## IMAGE X headers for carousels\n   * Validate tweet cards array has sensible splits for visual card design\n\n## Conclusions\n\nOutput exactly 3 creative variations in matched pairs:\n* **Variation 1:** Post Body 1 + Image/Carousel Text Set 1 + Tweet Cards Array 1\n* **Variation 2:** Post Body 2 + Image/Carousel Text Set 2 + Tweet Cards Array 2\n* **Variation 3:** Post Body 3 + Image/Carousel Text Set 3 + Tweet Cards Array 3\n\n**Formatting rules:**\n* Single image: Plain text without image number headers\n* Carousel (2-20 images): Use ## IMAGE 1, ## IMAGE 2, etc. structure with text content following each header, matching the exact number of images in the reference\n* Tweet Cards Array: Array of text chunks split logically for tweet card design. Separate headlines/titles from body text. Each element should be concise and visually distinct. Can be more tweet cards than original carousel if text is too long.\n\n## Solutions\n\n* **If reference post is minimal:** Expand on the core idea while maintaining the original intent and incorporating brand guidelines\n* **If brand voice guidelines are vague:** Extract tone from product information and default to professional yet conversational style\n* **If custom instructions conflict with brand guidelines:** Prioritize custom instructions as they represent specific user needs\n* **If product information is unclear:** Focus on universal benefits and professional value propositions\n* **If original image text is missing:** Create complementary visual text based on post content and brand voice, maintaining the same number of images as indicated\n* **If custom instructions are absent:** Proceed using brand guidelines and reference post as primary direction\n* **If number of images is unclear:** Analyze the structure of the original image text (presence of multiple sections or ## IMAGE markers) to determine format\n* **If carousel has inconsistent image count across reference:** Use the most complete example as the standard and maintain that count across all variations\n* If text split for tweet cards is ambiguous: Prioritize headlines, numbered points, and section titles as separate elements from their descriptions\n* If single image post for tweet cards: Create a 2-3 element array with logical text hierarchy splits"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        2096,
        1152
      ],
      "id": "556bcdf3-f2f1-4fc3-9887-459c23d608d3",
      "name": "Post Generator",
      "executeOnce": false
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"variations\": {\n      \"type\": \"array\",\n      \"minItems\": 3,\n      \"maxItems\": 3,\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"variation_number\": {\n            \"type\": \"integer\"\n          },\n          \"post_body\": {\n            \"type\": \"string\"\n          },\n          \"image_carousel_text\": {\n            \"type\": \"string\"\n          },\n          \"tweet_cards\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"required\": [\n          \"variation_number\",\n          \"post_body\",\n          \"image_carousel_text\",\n          \"tweet_cards\"\n        ]\n      }\n    }\n  },\n  \"required\": [\"variations\"]\n}",
        "autoFix": true
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        2400,
        1296
      ],
      "id": "370bcc56-4f8b-4b13-95ea-fdd26ee5ac39",
      "name": "Structured Output Parser2"
    },
    {
      "parameters": {
        "resource": "video",
        "operation": "create"
      },
      "type": "@blotato/n8n-nodes-preview-blotato.blotato",
      "typeVersion": 2,
      "position": [
        2784,
        1152
      ],
      "id": "ef7f3efb-5ea5-4d87-9953-3bfca4ef4929",
      "name": "Create video",
      "credentials": {}
    },
    {
      "parameters": {
        "resource": "video",
        "operation": "get"
      },
      "type": "@blotato/n8n-nodes-preview-blotato.blotato",
      "typeVersion": 2,
      "position": [
        3008,
        1152
      ],
      "id": "9722007d-2fdd-4ea6-8833-00859aeb2631",
      "name": "Get video",
      "credentials": {}
    },
    {
      "parameters": {
        "amount": 10
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        3216,
        1152
      ],
      "id": "68abd267-a3dd-4e59-90a9-388064826212",
      "name": "Wait 10 seconds",
      "webhookId": "82a777a5-58aa-485e-bb5b-87025dbf2f24"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "1282aeec-ff72-4cd5-83dc-2c79779c20ef",
              "leftValue": "={{ $json.item.status }}",
              "rightValue": "done",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        3408,
        1152
      ],
      "id": "cc55f018-ac1c-4486-8578-8cfb4698e2a2",
      "name": "If Finished"
    },
    {
      "parameters": {
        "content": "## Post Generation",
        "height": 304,
        "width": 880,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2736,
        1088
      ],
      "id": "01c5a9f8-1024-4322-ab6b-d31d223f9d3d",
      "name": "Sticky Note29"
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tblIgtemiB5mTwqzW",
          "mode": "list",
          "cachedResultName": "Draft Posts",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tblIgtemiB5mTwqzW"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Post Body": "={{ $('Split Out Creatives').item.json.post_body }}",
            "Image Text": "={{ $('Split Out Creatives').item.json.image_carousel_text }}",
            "Scheduling Status": "Draft",
            "Link to Asset": "Test.com",
            "Card Text": "={{ $('Split Out Creatives').item.json.tweet_cards }}"
          },
          "matchingColumns": [
            "Origin Id"
          ],
          "schema": [
            {
              "id": "Post Id",
              "displayName": "Post Id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Post Body",
              "displayName": "Post Body",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Image Text",
              "displayName": "Image Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Card Text",
              "displayName": "Card Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Scheduling Status",
              "displayName": "Scheduling Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Draft",
                  "value": "Draft"
                },
                {
                  "name": "In progress",
                  "value": "In progress"
                },
                {
                  "name": "Uploaded",
                  "value": "Uploaded"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Attachments",
              "displayName": "Attachments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Link to Asset",
              "displayName": "Link to Asset",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Linked Post",
              "displayName": "Linked Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Link to Post",
              "displayName": "Link to Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Created Date",
              "displayName": "Created Date",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": true
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3888,
        1136
      ],
      "id": "75b720f9-c998-44b6-b8c3-40ab32557919",
      "name": "UpdateContent"
    },
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tblIgtemiB5mTwqzW",
          "mode": "list",
          "cachedResultName": "Draft Posts",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tblIgtemiB5mTwqzW"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $json.id }}",
            "Linked Post": "=['{{ $('Get a record').item.json.id }}']",
            "Attachments": "={{ $('Set Image Array1').item.json.media }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true
            },
            {
              "id": "Post Id",
              "displayName": "Post Id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Post Body",
              "displayName": "Post Body",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Image Text",
              "displayName": "Image Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Card Text",
              "displayName": "Card Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Scheduling Status",
              "displayName": "Scheduling Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Draft",
                  "value": "Draft"
                },
                {
                  "name": "In progress",
                  "value": "In progress"
                },
                {
                  "name": "Uploaded",
                  "value": "Uploaded"
                }
              ],
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Attachments",
              "displayName": "Attachments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Link to Asset",
              "displayName": "Link to Asset",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Linked Post",
              "displayName": "Linked Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Link to Post",
              "displayName": "Link to Post",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Created Date",
              "displayName": "Created Date",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": false
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        4080,
        1136
      ],
      "id": "116beb3d-000a-4823-91d2-8ba7f6616c81",
      "name": "UpdateLink"
    },
    {
      "parameters": {
        "path": "scrape-now",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        1008,
        608
      ],
      "id": "8b2cb894-e310-4a02-a9ad-fe022d669cf5",
      "name": "Webhook1",
      "webhookId": "f8b82971-624e-477a-87fa-05b1600605b7"
    },
    {
      "parameters": {
        "base": {
          "__rl": true,
          "value": "appicHzkELrK44u2N",
          "mode": "list",
          "cachedResultName": "Viral Content Engine V1",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N"
        },
        "table": {
          "__rl": true,
          "value": "tbltZMsg00u64TzGF",
          "mode": "list",
          "cachedResultName": "Creator Pages",
          "cachedResultUrl": "https://airtable.com/appicHzkELrK44u2N/tbltZMsg00u64TzGF"
        },
        "id": "={{ $json.query.recordId }}",
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1120,
        608
      ],
      "id": "2704d33d-9cdb-4d3d-a401-f109fa53e263",
      "name": "RetrieveDetails"
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "=<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <meta name=\"description\" content=\"Success message displaying generation status\" />\n    <title>✅ Generating</title>\n    <style>\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@600&display=swap');\n\n        :root {\n            --color-bg-start: #a7c7e7; /* light blue */\n            --color-bg-end: #cdb4db; /* light purple */\n            --color-text: #1f2121;\n            --color-shadow: rgba(0, 0, 0, 0.15);\n        }\n\n        * {\n            box-sizing: border-box;\n        }\n\n        body, html {\n            height: 100%;\n            margin: 0;\n            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n                Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n            background: linear-gradient(135deg, var(--color-bg-start), var(--color-bg-end));\n            color: var(--color-text);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            text-align: center;\n            overflow: hidden;\n        }\n\n        main {\n            padding: 2rem 3rem;\n            background: rgba(255, 255, 255, 0.85);\n            border-radius: 1rem;\n            box-shadow: 0 10px 20px var(--color-shadow);\n            max-width: 90vw;\n            animation: fadeIn 1s ease forwards;\n            user-select: none;\n        }\n\n        .success-message {\n            font-weight: 600;\n            font-size: 3rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.6rem;\n            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            cursor: default;\n            transition: transform 0.3s ease;\n            outline: none;\n        }\n\n        .success-message:focus {\n            box-shadow: 0 0 0 3px #7b68ee;\n            border-radius: 0.5rem;\n        }\n\n        .success-message:hover {\n            transform: translateY(-2px) scale(1.02);\n        }\n\n        .checkmark {\n            font-size: 3.5rem;\n            line-height: 1;\n        }\n\n        @keyframes fadeIn {\n            from {\n                opacity: 0;\n                transform: translateY(10px);\n            }\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        }\n    </style>\n</head>\n<body>\n    <main>\n        <div\n            class=\"success-message\"\n            id=\"successMessage\"\n            tabindex=\"0\"\n            role=\"status\"\n            aria-label=\"Success: Generating\"\n            aria-live=\"polite\"\n        >\n            <span class=\"checkmark\">✅</span>\n            <span class=\"message-text\">Generating</span>\n        </div>\n    </main>\n\n    <script>\n        document.addEventListener('DOMContentLoaded', function () {\n            const successMessage = document.getElementById('successMessage');\n\n            // Accessibility announcement already handled by aria-live\n\n            // Keyboard focus styling is handled by CSS focus selector\n\n            // Optional debug log\n            console.log('Success message loaded successfully ✅');\n        });\n    </script>\n</body>\n</html>",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        1216,
        128
      ],
      "id": "0d70855e-0f99-4687-9faa-ae4c0ab9feb8",
      "name": "Respond Success1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "54c8831a-abf3-4458-a70f-3abe9a170087",
              "name": "media",
              "value": "={{ $json.item.imageUrls.map((url, index) => ({ \n  url: url,\n  filename: `image_${index}.jpg`\n})) }}",
              "type": "array"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        3680,
        1136
      ],
      "id": "406a2524-9f44-4978-bb6e-703095bae6e4",
      "name": "Set Image Array1"
    },
    {
      "parameters": {
        "content": "## Setup instructions - [step-by-step video in Skool Classroom]\n1. Copy the Airtable base (link in Classroom)\n2. Set up an Airtable token (if you havent already) - [example video here](https://www.skool.com/scrapes/classroom/5cb99289?md=f95c49b01af544768c1e16bf968bcc79), [create tokens here](https://airtable.com/create/tokens)\n3. Give Token access to the base (same video as in #2)\n4. Give all Airtable nodes access to the correct base\n5. Add your Airtable inputs (Creator example, Your brand voice)\n6. Change the webhook names (to make them more secure!) - change them in n8n and in Airtable (in the relevant buttons)\n7. Set up [Apify](https://console.apify.com/sign-up?fpr=simonscrapes) account - Enter `25SIMON` at checkout for 25% off\n8. Get Apify key and set it up inside http request node using a Query auth credential (make sure all other http request are using this credential)\n9. Set up [Gemini](https://ai.google.dev/gemini-api/docs) and grab API key\n10. Test run & troubleshoot (first flow!)\n\n11. Set up [Blotato](https://blotato.com/?ref=simon) for carousel templates and scheduling and connect to an account (e.g. Linkedin)\n12. Pick your [blotato carousel template](https://my.blotato.com/videos/new) -> 'From Template (BETA)'\n13. Set up Openrouter (for the AI functionality)\n14. Test run & troubleshoot (second flow!)\n\n\n15. Create some content and enjoy the fruits of your labor!\n\n\nNow that you’ve built a system to auto‑generate high‑quality LinkedIn posts, what if you could plug those posts into a lead gen engine that scrapes and enriches leads for you — from Linkedin, Apollo, and even Google Maps? [Watch this next video](https://youtu.be/SyGZjjnV4b4) where I show you how to build a fully automated lead generation machine using 10 scrapers and one Airtable — so you never run out of warm leads again.",
        "height": 608,
        "width": 960,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "2011910b-7ea0-49b4-88a5-019ad01f654b",
      "name": "Sticky Note6"
    }
  ],
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "updatedAt": "2025-12-11T21:05:32.670Z",
      "createdAt": "2025-12-11T21:05:32.670Z",
      "role": "workflow:owner",
      "workflowId": "burJXNCrs2EZ179t",
      "projectId": "XqkS7oX8lMj4YbIK"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-12-11T21:05:32.670Z",
  "versionId": "81154a1a-8e66-48e4-8b84-75d07762320f"
}