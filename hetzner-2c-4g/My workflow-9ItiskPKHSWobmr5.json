{
  "active": false,
  "activeVersion": null,
  "activeVersionId": null,
  "connections": {},
  "createdAt": "2025-12-25T22:47:20.285Z",
  "id": "9ItiskPKHSWobmr5",
  "isArchived": false,
  "meta": null,
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "jsCode": "// 1. Najdeme textovou odpověď z AI (zkoušíme různé názvy proměnných)\nconst aiResponse = $input.item.json.text || $input.item.json.output || $input.item.json.response || \"\";\n\n// 2. Najdeme první složenou závorku '{' a poslední '}'\nconst firstBracket = aiResponse.indexOf('{');\nconst lastBracket = aiResponse.lastIndexOf('}');\n\n// 3. Kontrola chyb\nif (firstBracket === -1 || lastBracket === -1) {\n  throw new Error(\"AI nevrátila žádný JSON. Odpověď byla: \" + aiResponse);\n}\n\n// 4. Vyřízneme přesně jen JSON část (ignorujeme text okolo)\nconst jsonString = aiResponse.substring(firstBracket, lastBracket + 1);\n\ntry {\n  // 5. Převedeme na objekt a pošleme dál\n  const parsedObject = JSON.parse(jsonString);\n  return { json: { workflowObject: parsedObject } };\n} catch (e) {\n  throw new Error(\"Text mezi závorkami není platný JSON. Chyba: \" + e.message);\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        740,
        288
      ],
      "id": "e5b8c16e-6788-4c17-b643-94a3f0620999",
      "name": "Clean JSON"
    }
  ],
  "settings": {
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": false
  },
  "shared": [
    {
      "updatedAt": "2025-12-25T22:47:20.285Z",
      "createdAt": "2025-12-25T22:47:20.285Z",
      "role": "workflow:owner",
      "workflowId": "9ItiskPKHSWobmr5",
      "projectId": "XqkS7oX8lMj4YbIK"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-12-25T22:47:20.285Z",
  "versionId": "c7a37e34-7843-4761-b8d2-e0b61885008f"
}